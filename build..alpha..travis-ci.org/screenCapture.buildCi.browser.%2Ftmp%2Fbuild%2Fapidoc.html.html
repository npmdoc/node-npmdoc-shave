<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/dollarshaveclub/shave#readme">shave (v1.0.4)</a>
</h1>
<h4>Shave is a javascript plugin that truncates multi-line text within a html element based on set max height</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.shave">module shave</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shave.shave">
            function <span class="apidocSignatureSpan"></span>shave
            <span class="apidocSignatureSpan">(target, maxHeight, opts)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shave" id="apidoc.module.shave">module shave</a></h1>


    <h2>
        <a href="#apidoc.element.shave.shave" id="apidoc.element.shave.shave">
        function <span class="apidocSignatureSpan"></span>shave
        <span class="apidocSignatureSpan">(target, maxHeight, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function shave(target, maxHeight, opts) {
  if (!maxHeight) throw Error('maxHeight is required');
  var els = typeof target === 'string' ? document.querySelectorAll(target) : target;
  if (!('length' in els)) els = [els];

  var defaults = {
    character: 'â€¦',
    classname: 'js-shave',
    spaces: true
  };
  var character = opts &amp;&amp; opts.character || defaults.character;
  var classname = opts &amp;&amp; opts.classname || defaults.classname;
  var spaces = opts &amp;&amp; opts.spaces === false ? false : defaults.spaces;
  var charHtml = '&lt;span class="js-shave-char"&gt;' + character + '&lt;/span&gt;';

  for (var i = 0; i &lt; els.length; i++) {
    var el = els[i];
    var span = el.querySelector('.' + classname);

    var textProp = el.textContent === undefined ? 'innerText' : 'textContent';

    // If element text has already been shaved
    if (span) {
      // Remove the ellipsis to recapture the original text
      el.removeChild(el.querySelector('.js-shave-char'));
      el[textProp] = el[textProp]; // nuke span, recombine text
    }

    var fullText = el[textProp];
    var words = spaces ? fullText.split(' ') : fullText;

    // If 0 or 1 words, we're done
    if (words.length &lt; 2) continue;

    // Temporarily remove any CSS height for text height calculation
    var heightStyle = el.style.height;
    el.style.height = 'auto';
    var maxHeightStyle = el.style.maxHeight;
    el.style.maxHeight = 'none';

    // If already short enough, we're done
    if (el.offsetHeight &lt; maxHeight) {
      el.style.height = heightStyle;
      el.style.maxHeight = maxHeightStyle;
      continue;
    }

    // Binary search for number of words which can fit in allotted height
    var max = words.length - 1;
    var min = 0;
    var pivot = void 0;
    while (min &lt; max) {
      pivot = min + max + 1 &gt;&gt; 1;
      el[textProp] = spaces ? words.slice(0, pivot).join(' ') : words.slice(0, pivot);
      el.insertAdjacentHTML('beforeend', charHtml);
      if (el.offsetHeight &gt; maxHeight) max = spaces ? pivot - 1 : pivot - 2;else min = pivot;
    }

    el[textProp] = spaces ? words.slice(0, max).join(' ') : words.slice(0, max);
    el.insertAdjacentHTML('beforeend', charHtml);
    var diff = spaces ? words.slice(max).join(' ') : words.slice(max);

    el.insertAdjacentHTML('beforeend', '&lt;span class="' + classname + '" style="display:none;"&gt;' + diff + '&lt;/span&gt;');

    el.style.height = heightStyle;
    el.style.maxHeight = maxHeightStyle;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```
Or both:
```javascript
shave('selector', maxheight, {classname: 'classname', character: 'âœ' });
```
You can also use **shave** as a [jQuery](http://jquery.com/) or [Zepto](http://zeptojs.com/) plugin.
```javascript
$('selector').<span class="apidocCodeKeywordSpan">shave</span>(maxheight);
```
And here's a _jQuery/Zepto_ example with custom options:
```javascript
$('selector').shave(maxheight, { classname: 'your-css-class', character: 'âœ'  });
```

If you're using a non-spaced language, you can support shave by setting an option `spaces` to `false`.
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>